{"version":3,"file":"tabbableUtils-a4d6bed2.js","sources":["../../../../node_modules/ramda/es/last.js","../../src/utils/PRIVATE_tabbableUtils/tabbableUtils.ts"],"sourcesContent":["import nth from \"./nth.js\";\n/**\n * Returns the last element of the given list or string.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig [a] -> a | Undefined\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @see R.init, R.head, R.tail\n * @example\n *\n *      R.last(['fi', 'fo', 'fum']); //=> 'fum'\n *      R.last([]); //=> undefined\n *\n *      R.last('abc'); //=> 'c'\n *      R.last(''); //=> ''\n */\n\nvar last =\n/*#__PURE__*/\nnth(-1);\nexport default last;","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\n/**\n * Tabbable Mode helpers\n */\nimport { head } from 'ramda';\nimport { last } from 'ramda';\nimport { pipe } from 'ramda';\n\n// definition for Element types that can receive focus\nexport type FocusableElement = HTMLElement | SVGElement;\n\n/**\n * Query selector to return all tabbable elements\n * @param allowAllTabIndex This param is optional. The default value is false. To include the element with tabIndex='-1', specify allowAllTabIndex to true.\n */\nconst findTabbableQuery = (allowAllTabIndex?: boolean) =>\n  [\n    'a:not([name]):not([disabled])',\n    'button:not([disabled])',\n    'textarea:not([disabled])',\n    'input:not([disabled])',\n    'select:not([disabled])',\n    allowAllTabIndex ? '[tabIndex]' : \"[tabIndex]:not([tabIndex='-1'])\",\n    \"[contenteditable]:not([contenteditable='false'])\"\n  ].join(', ');\n\n/**\n * Use tabbableQuery selector to determine if an element is tabbable\n * @param element the element\n * @param allowAllTabIndex This param is optional. The default value is false. To include the element with tabIndex='-1', specify allowAllTabIndex to true\n */\nconst isTabbableElement = (element: FocusableElement, allowAllTabIndex?: boolean) =>\n  element.matches(findTabbableQuery(allowAllTabIndex));\n\n/**\n * All tabbable child elements in a node.\n * @param el the node\n * @param includeItself This param is optional. The default value is false. To include the current node, specify includeItself to true\n * @param allowAllTabIndex This param is optional. The default value is false. To include the element with tabIndex='-1', specify allowAllTabIndex to true.\n */\nconst allTabbableElements = (\n  el: FocusableElement,\n  includeItself?: boolean,\n  allowAllTabIndex?: boolean\n) => {\n  const tabbableQuery = findTabbableQuery(allowAllTabIndex);\n  const tabbable = Array.from(el.querySelectorAll(tabbableQuery)).filter((element) => {\n    // @ts-ignore\n    // this is to ensure the input isn't hidden\n    return element.offsetParent !== null && (allowAllTabIndex || element.tabIndex !== -1);\n  }) as FocusableElement[];\n\n  if (includeItself && isTabbableElement(el, allowAllTabIndex)) {\n    tabbable.push(el);\n  }\n  return tabbable;\n};\n\n// All tabbable child elements in a node,  or the container itself if there is none\nconst tabbablesOrContainer = (element: FocusableElement) => {\n  const tabbableElements = allTabbableElements(element);\n  return tabbableElements.length ? tabbableElements : [element];\n};\n\n// First tabbable child element in a node, or the container itself if there is none\nconst firstTabbableOrContainer = pipe(tabbablesOrContainer, head);\n\n/**\n * Focus Helpers\n */\n\n// preventScroll safe focus setter\nconst focusOn = (element: FocusableElement) => {\n  element.focus({ preventScroll: true });\n};\n\n// focus on first tabbable in a container or container itself if there is none\nconst focusWithin = (element: FocusableElement) => {\n  const firstTabbable = firstTabbableOrContainer(element);\n  focusOn(firstTabbable as FocusableElement);\n};\n\n// focus on initial tabstop\nconst focusOnStart = pipe(tabbablesOrContainer, head, focusOn);\n\n// focus on last tabstop\nconst focusOnEnd = pipe(tabbablesOrContainer, last, focusOn);\n\n// get active element from document parent of the node\nconst getActiveElement = (node?: Node) => {\n  const conditionalDocument = node?.ownerDocument ?? document;\n  return conditionalDocument.activeElement as FocusableElement;\n};\n\n// get active element from document parent of the node\nconst getBodyElement = (node?: Node) => {\n  const conditionalDocument = node?.ownerDocument ?? document;\n  return conditionalDocument.body;\n};\n\nexport {\n  focusOn, // preventScroll safe focus setter\n  focusWithin, // focus on first tabbable in a container or container itself if there is none\n  focusOnEnd, // focus on last tabstop in a container\n  focusOnStart, // focus on first tabstop in a container\n  getActiveElement, // get active element from document parent of the node\n  getBodyElement, // get the body element from document parent of the node\n  isTabbableElement, // uses tabbableQuery selector to determine if an element is tabbable\n  allTabbableElements // uses tabbableQuery selector to find all tabbable elements inside an element\n};\n"],"names":["last$1","nth","findTabbableQuery","allowAllTabIndex","join","isTabbableElement","element","matches","allTabbableElements","el","includeItself","tabbableQuery","tabbable","Array","from","querySelectorAll","filter","offsetParent","tabIndex","push","tabbablesOrContainer","tabbableElements","length","firstTabbableOrContainer","pipe","head","focusOn","focus","preventScroll","focusOnStart","focusOnEnd","last","firstTabbable","node","ownerDocument","document","activeElement","body"],"mappings":"iEAsBA,IAGAA,EADAC,EAAAA,KAAK,GCFL,MAAMC,EAAqBC,GACzB,CACE,gCACA,yBACA,2BACA,wBACA,yBACAA,EAAmB,aAAe,kCAClC,oDACAC,KAAK,MAOHC,EAAoB,CAACC,EAA2BH,IACpDG,EAAQC,QAAQL,EAAkBC,IAQ9BK,EAAsB,CAC1BC,EACAC,EACAP,KAEA,MAAMQ,EAAgBT,EAAkBC,GAClCS,EAAWC,MAAMC,KAAKL,EAAGM,iBAAiBJ,IAAgBK,QAAQV,GAGtC,OAAzBA,EAAQW,eAA0Bd,IAA0C,IAAtBG,EAAQY,YAMvE,OAHIR,GAAiBL,EAAkBI,EAAIN,IACzCS,EAASO,KAAKV,GAETG,CAAQ,EAIXQ,EAAwBd,IAC5B,MAAMe,EAAmBb,EAAoBF,GAC7C,OAAOe,EAAiBC,OAASD,EAAmB,CAACf,EAAQ,EAIzDiB,EAA2BC,EAAIA,KAACJ,EAAsBK,EAAAA,MAOtDC,EAAWpB,IACfA,EAAQqB,MAAM,CAAEC,eAAe,GAAO,EAUlCC,EAAeL,EAAIA,KAACJ,EAAsBK,EAAAA,KAAMC,GAGhDI,EAAaN,EAAIA,KAACJ,EAAsBW,EAAML,qFAT/BpB,IACnB,MAAM0B,EAAgBT,EAAyBjB,GAC/CoB,EAAQM,EAAkC,qBAUlBC,IACIA,GAAMC,eAAiBC,UACxBC,+BAILH,IACMA,GAAMC,eAAiBC,UACxBE"}