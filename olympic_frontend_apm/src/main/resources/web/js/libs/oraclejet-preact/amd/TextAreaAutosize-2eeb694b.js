define(['exports', 'preact/jsx-runtime', 'preact', 'preact/compat', './FormContext-c9b69cf8', './useFormContext-dc7a7549', './FormFieldContext-e622bec1', 'preact/hooks', './useFocusableTextField-5dd67c03', './Label-7bdf0440', './ReadonlyTextFieldInput-95f0f2cd', './StyledTextField-46ce4825', './TextField-4f53b91a', './TextFieldInput-04f8c98e', './MaxLengthLiveRegion-e5aa0a3c', './useTextField-d368bfb8', './logger-b63acb49', './TabbableModeContext-1b650f6f', './useTranslationBundle-1a7cf79b', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-68356e38', './CompactUserAssistance-e042304f', './Floating-7b312a86', './TopLayerHost-ed31c70d', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'css!./IconStyle.styles.css', './Popup-a5ec58c1', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-cc040e6d', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-31e8d609', './useCurrentValueReducer-9a21a355', './MaxLengthCounter-18412603'], (function(e,s,t,a,n,o,i,l,r,d,c,u,p,m,x,h,b,g,f,F,y,v,R,L,A,T,C,S,w,E,U,I,j,P,D,H,k,B,M,V,_){"use strict";const N=({isReadonly:e,enabledElementRef:s,readonlyElementRef:t,minRows:a=2,maxRows:n,value:o})=>{l.useLayoutEffect((()=>{const o=e?t:s;if(null===o.current)return;if(o.current instanceof HTMLDivElement)return;const i=o.current,l=(e=>{const s=window.getComputedStyle(e),t=s.lineHeight;if("normal"===t)return 1.2*parseFloat(s.fontSize);return parseFloat(t)})(i);i.style.height="0";const{paddingHeight:r,borderHeight:d}=(e=>{const s=window.getComputedStyle(e);return{paddingHeight:parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),borderHeight:parseFloat(s.borderTop)+parseFloat(s.borderBottom)}})(i),c=l*a+r+d,u=i.scrollHeight+d;let p=0;if(void 0===n)p=u<c?c:u;else if(n>a){const e=l*n+r+d;p=u>e?e:u<c?c:u}else p=c;i.style.height=p+.5+"px"}),[o,a,n,e,s,t])},q=a.forwardRef((({"aria-describedby":e,assistiveText:n,autoComplete:l="off",autoFocus:b=!1,columnSpan:g,helpSourceLink:F,helpSourceText:y,isDisabled:v,isReadonly:A,isRequired:T=!1,isRequiredShown:C,label:S,labelEdge:w,labelStartWidth:E,maxLength:U,maxLengthCounter:I="remaining",maxLengthUnit:j,maxRows:P,messages:D,minRows:H=2,placeholder:k,role:B,textAlign:q,userAssistanceDensity:W,value:z,variant:G="default",onInput:J,onCommit:K,testId:O},Q)=>{const X=f.useTranslationBundle("@oracle/oraclejet-preact"),Y=U?X.formControl_limitReached({CHARACTER_LIMIT:U}):"",{currentCommitValue:Z,dispatch:$}=V.useCurrentValueReducer({value:z}),ee=a.useCallback((e=>{$({type:"input",payload:e.value}),J?.(e)}),[J,$]),se=a.useCallback((e=>{$({type:"commit",payload:e.value}),K?.(e)}),[K,$]),{isDisabled:te,isReadonly:ae,labelEdge:ne,labelStartWidth:oe,textAlign:ie,userAssistanceDensity:le}=o.useFormContext(),re=v??te,de=A??ae,ce=w??ne,ue=E??oe,pe=q??ie,me=W??le,{enabledElementRef:xe,readonlyElementRef:he,focusProps:be,isFocused:ge}=r.useFocusableTextField({isDisabled:re,isReadonly:de,ref:Q}),{isMaxLengthExceeded:fe,isMaxLengthReached:Fe,valueLength:ye,onFilteredInput:ve}=M.useLengthFilter({maxLength:U,maxLengthUnit:j,value:z,onInput:ee,onCommit:se}),Re=[...D??[],...Fe?[{detail:Y,severity:"info"}]:[]],{formFieldContext:Le,inputProps:Ae,labelProps:Te,textFieldProps:Ce,userAssistanceProps:Se}=h.useTextField({ariaDescribedBy:e,contentVariant:"textarea",helpSourceLink:F,helpSourceText:y,isDisabled:re,isFocused:ge,isReadonly:de,isRequiredShown:C,labelEdge:ce,messages:Re,styleVariant:G,userAssistanceDensity:me,value:z}),we=a.useCallback((()=>{const e=xe.current,s=e?e.value.length:null;xe.current?.setSelectionRange(s,s),xe.current?.focus()}),[xe]),Ee="none"!==ce?s.jsx(d.Label,{...Te,children:S}):void 0,Ue={label:"none"!==ce?Ee:void 0,labelEdge:"none"!==ce?ce:void 0,labelStartWidth:"none"!==ce?ue:void 0},Ie="none"===ce?S:void 0,je="efficient"===me||"reflow"===me?re||de?"efficient"!==me?void 0:s.jsx(R.InlineUserAssistance,{userAssistanceDensity:me,...Se}):s.jsx(R.InlineUserAssistance,{assistiveText:n,fieldLabel:S,helpSourceLink:F,helpSourceText:y,messages:Re,isRequiredShown:C,userAssistanceDensity:me,...Se}):void 0,Pe=a.useRef(null),De="compact"===me?s.jsx(L.CompactUserAssistance,{anchorRef:Pe,messages:Re,assistiveText:n,...Se}):void 0;if(N({isReadonly:de,enabledElementRef:xe,readonlyElementRef:he,minRows:H,maxRows:P,value:z}),de)return s.jsx(i.FormFieldContext.Provider,{value:Le,children:s.jsx(u.ReadonlyTextField,{role:"presentation",colSpan:g,compactUserAssistance:De,inlineUserAssistance:je,variant:"textarea",ref:Pe,testId:O,...Ue,children:s.jsx(c.ReadonlyTextFieldInput,{"aria-describedby":Ae["aria-describedby"],"aria-label":Ie,"aria-labelledby":Te.id,elementRef:he,...P?{as:"textarea",rows:H}:{as:"div"},autoFocus:b,textAlign:pe,value:z,variant:"textarea",hasEmptyLabel:""===S&&"none"===ce,hasInsideLabel:void 0!==S&&"inside"===ce})})});const He=s.jsxs(t.Fragment,{children:[s.jsx(m.TextFieldInput,{as:"textarea","aria-label":Ie,autoComplete:l,autoFocus:b,currentCommitValue:Z,hasEmptyLabel:""===S&&"none"===ce,hasInsideLabel:void 0!==Ee&&"inside"===ce,isRequired:T,inputRef:xe,onCommit:se,onInput:ve,placeholder:k,role:B,rows:H,textAlign:pe,value:z,...Ae}),"remaining"===I&&void 0!==U&&s.jsx(_.MaxLengthCounter,{maxLength:U,valueLength:ye,parentHasFocus:ge,onClick:we}),void 0!==U&&s.jsx(x.MaxLengthLiveRegion,{isMaxLengthExceeded:fe,maxLength:U,valueLength:ye})]});return s.jsx(i.FormFieldContext.Provider,{value:Le,children:s.jsx(p.TextField,{mainContent:He,columnSpan:g,compactUserAssistance:De,inlineUserAssistance:je,onBlur:be?.onfocusout,onFocus:be?.onfocusin,mainFieldRef:Pe,testId:O,...Ce,...Ue})})}));e.TextAreaAutosize=q}));
//# sourceMappingURL=TextAreaAutosize-2eeb694b.js.map
