{"version":3,"file":"Axis-e3ebb9ee.js","sources":["../../src/UNSAFE_Axis/Axis.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { JSXInternal } from 'preact/src/jsx';\nimport { getEnclosingRectDims } from './utils/labelUtils';\nimport { styles } from './themes/AxisStyles.css';\nimport { AxisRedwoodTheme } from './themes/redwood/AxisTheme';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { AxisStyles } from './themes/AxisStyles.css';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { getClientHints } from '../utils/PRIVATE_clientHints';\n\ntype SVGTextAttrs = JSXInternal.HTMLAttributes<SVGTextElement>;\ntype TickLabelInfo = {\n  label: string;\n  labelProps: { x: number; y: number; height: number; width: number };\n  index: number;\n};\n\ntype TextProps = {\n  text: string;\n  style?: SVGTextAttrs['style'];\n  textProps?: SVGTextAttrs & {\n    'data-oj-object'?: string;\n    'data-oj-group-index'?: string | number;\n  };\n  isInteractive?: boolean;\n  id?: string;\n  isTitle?: boolean;\n};\n\ntype Props = {\n  title?: string;\n  titleStyle?: SVGTextAttrs['style'];\n  titleProps?: SVGTextAttrs;\n  tickLabels: TickLabelInfo[];\n  tickLabelStyle?: SVGTextAttrs['style'];\n  focusedGroupIndex?: number;\n  isTextInteractive?: (index: number) => boolean;\n  activeId?: string;\n  axisPosition: 'left' | 'right' | 'top' | 'bottom';\n};\n\n/**\n * Renders the svg text with given style and svg attributes.\n */\nexport function SVGText({ text, style, textProps, isTitle, isInteractive, id }: TextProps) {\n  const browser = getClientHints().browser;\n  return (\n    <text\n      style={style}\n      {...textProps}\n      class={classNames([\n        isInteractive ? styles.isInteractive : '',\n        isTitle ? styles.axisTitle : styles.axisLabel,\n        !isTitle && browser === 'safari' ? styles.middleBaseline : ''\n      ])}\n      id={id}>\n      {text}\n    </text>\n  );\n}\n/**\n * Renders the chart axis.\n */\nexport function Axis({\n  title,\n  titleStyle,\n  titleProps,\n  tickLabels,\n  tickLabelStyle,\n  focusedGroupIndex,\n  axisPosition,\n  activeId,\n  isTextInteractive\n}: Props) {\n  const { classes } = useComponentTheme<AxisStyles>(AxisRedwoodTheme);\n  return (\n    <g class={classes}>\n      {title && <SVGText text={title} textProps={titleProps} style={titleStyle} isTitle />}\n      {tickLabels.length > 0 && (\n        <g style={tickLabelStyle}>\n          {tickLabels.map(({ label, labelProps, index }: TickLabelInfo, renderedIndex: number) => {\n            const isFocused = focusedGroupIndex === renderedIndex;\n            return (\n              <>\n                {isFocused ? (\n                  <rect\n                    {...getEnclosingRectDims(labelProps, axisPosition)}\n                    class={styles.outlineRing}></rect>\n                ) : (\n                  ''\n                )}\n                <SVGText\n                  textProps={{\n                    ...labelProps,\n                    'data-oj-object': 'group',\n                    'data-oj-group-index': index\n                  }}\n                  text={label}\n                  isInteractive={isTextInteractive?.(index)}\n                  id={isFocused ? activeId : ''}\n                />\n              </>\n            );\n          })}\n        </g>\n      )}\n    </g>\n  );\n}\n"],"names":["SVGText","text","style","textProps","isTitle","isInteractive","id","browser","getClientHints","_jsx","jsx","class","classNames","styles","axisTitle","axisLabel","middleBaseline","title","titleStyle","titleProps","tickLabels","tickLabelStyle","focusedGroupIndex","axisPosition","activeId","isTextInteractive","classes","useComponentTheme","AxisRedwoodTheme","_jsxs","length","children","map","label","labelProps","index","renderedIndex","isFocused","jsxs","_Fragment","getEnclosingRectDims","outlineRing"],"mappings":"uQAmDgB,SAAAA,GAAQC,KAAEA,EAAIC,MAAEA,EAAKC,UAAEA,EAASC,QAAEA,EAAOC,cAAEA,EAAaC,GAAEA,IACxE,MAAMC,EAAUC,mBAAiBD,QACjC,OACEE,EACEC,IAAA,OAAA,CAAAR,MAAOA,KACHC,EACJQ,MAAOC,aAAW,CAChBP,EAAgBQ,EAAAA,OAAOR,cAAgB,GACvCD,EAAUS,EAAMA,OAACC,UAAYD,EAAAA,OAAOE,UACnCX,GAAuB,WAAZG,EAA+C,GAAxBM,EAAMA,OAACG,iBAE5CV,GAAIA,WACHL,GAGP,QAIM,UAAegB,MACnBA,EAAKC,WACLA,EAAUC,WACVA,EAAUC,WACVA,EAAUC,eACVA,EAAcC,kBACdA,EAAiBC,aACjBA,EAAYC,SACZA,EAAQC,kBACRA,IAEA,MAAMC,QAAEA,GAAYC,EAAiBA,kBAAaC,EAAgBA,kBAClE,OACEC,EAAAA,KAAG,IAAA,CAAAlB,MAAOe,YACPT,GAASR,EAAAA,IAACT,EAAQ,CAAAC,KAAMgB,EAAOd,UAAWgB,EAAYjB,MAAOgB,EAAYd,SAAU,IACnFgB,EAAWU,OAAS,GACnBrB,EAAAA,SAAGP,MAAOmB,EAAcU,SACrBX,EAAWY,KAAI,EAAGC,QAAOC,aAAYC,SAAwBC,KAC5D,MAAMC,EAAYf,IAAsBc,EACxC,OACEP,EAAAS,KAAAC,WAAA,CAAAR,SAAA,CACGM,EACC5B,MACM,OAAA,IAAA+B,uBAAqBN,EAAYX,GACrCZ,MAAOE,EAAMA,OAAC4B,iBAIlBhC,EAAAC,IAACV,EAAO,CACNG,UAAW,IACN+B,EACH,iBAAkB,QAClB,sBAAuBC,GAEzBlC,KAAMgC,EACN5B,cAAeoB,IAAoBU,GACnC7B,GAAI+B,EAAYb,EAAW,OAG/B,QAMd"}