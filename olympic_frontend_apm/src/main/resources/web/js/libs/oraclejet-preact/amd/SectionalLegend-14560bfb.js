define(['exports', 'preact/jsx-runtime', 'preact/hooks', './useLegendLayout-5c19395e', './mergeProps-7be264ec', './LegendUtils-c62376ea', './useItemFocus-1f78ff17', './Flex-d982a43c', './UNSAFE_Legend/themes/LegendStyles.css', './useCssVars-a7656bc3', './classNames-62eaa01c', './useTestId-b28a9bba'], (function(e,t,n,o,i,s,l,d,r,a,c,m){"use strict";function I(e,t){const{sectionIdx:n,itemIdx:o}=e;if(-1==n&&-1==o){const e=t[t.length-1].items.length;return t[t.length-1].items[e-1]}return t[n].items[o]}function g(e){return{getItem:t=>I(t,e),getDetailFromInfo:t=>{if(!t)return{itemId:void 0,sectionId:void 0};const n=I(t,e),o=e[t.sectionIdx].id;return{itemId:n.id,sectionId:o}},getPrevItemInfo:t=>function(e,t){let{itemIdx:n,sectionIdx:o}=e;return-1==o&&-1==n&&(n=t[t.length-1].items.length-1,o=t.length-1),n-=1,n<0&&(0===o?n=0:(n=t[o-1].items.length-1,o-=1)),{itemIdx:n,sectionIdx:o}}(t,e),getNextItemInfo:t=>function(e,t){let{itemIdx:n,sectionIdx:o}=e;return-1==o&&-1==n?{itemIdx:t[t.length-1].items.length-1,sectionIdx:t.length-1}:(n+=1,n>=t[o].items.length&&(o===t.length-1?n=e.itemIdx:(o+=1,n=0)),{itemIdx:n,sectionIdx:o})}(t,e)}}e.SectionalLegend=function({orientation:e="horizontal",sectionTitleHAlign:I="start",sections:u,isReadOnly:f=!0,onItemAction:x,onInput:h,testId:p,...y}){const F=m.useTestId(p),S=n.useRef(null),v=n.useRef(),{resolvedVars:L,cssContent:R}=a.useCssVars(s.legendVars),{getItem:T,getDetailFromInfo:b,getPrevItemInfo:W,getNextItemInfo:P}=g(u),j=s.getLegendTextStyle({fontStyle:y.textFontStyle,fontSize:y.textFontSize?.toString(),fontWeight:y.textFontWeight?.toString(),fontFamily:y.textFontFamily},L),{textMeasureContent:w,layoutInfo:C}=o.useLegendLayout({rootRef:S,rootDimsRef:v,resolvedVars:L,sections:u,orientation:e,legendFontStylesObj:j,symbolWidth:y.symbolWidth}),{focusedItemInfo:D,hoveredItemInfo:z,...N}=o.useEvents(!f,null!=y.hiddenIds,b,W,P,x,h),{focusedItemRef:V}=l.useItemFocus(D),A=s.getDatatipText(u,T,D,z),{tooltipContent:B,tooltipProps:O}=o.useLegendTooltip({text:A,rootDimsRef:v,focusedItemInfo:D,focusedItemRef:V}),E=s.getAriaProps(f,y["aria-label"],y.hiddenIds),U=i.mergeProps(N,O),k={fontFamily:y.sectionTitleFontFamily,fontSize:y.sectionTitleFontSize,color:y.sectionTitleColor,fontStyle:y.sectionTitleFontStyle,fontWeight:y.sectionTitleFontWeight,textDecoration:y.sectionTitleTextDecoration},{sectionalLegendBaseStyles:G,renderedLegendStyle:H,preRenderedLegendStyle:M}=r.styles,_="horizontal"===e,q="vertical"===e||!!C;return t.jsxs("div",{ref:S,tabIndex:f?void 0:0,role:"application",class:c.classNames([G,q?H:M]),...F,...E,...U,children:[q?t.jsx(d.Flex,{direction:_?"row":"column",wrap:"wrap",gap:"4x",children:u.map(((n,i)=>{const l=f?"":s.getRandomId(),r=!!C&&C.isWrapped,a=!_||r?"column":"row",c=!_||r?"start":"center",{itemsPerCol:m,itemsPerRow:g}=s.getGridNums(n.items.length,C);return t.jsxs(d.Flex,{align:c,direction:a,maxWidth:"100%",justify:"start",wrap:"wrap",children:[t.jsx(o.LegendText,{text:n.title,...k,type:"title",id:l,align:I}),t.jsx(o.BaseLegend,{...y,focusedItemRef:V,labelledBy:l,sectionIdx:i,items:n.items,orientation:e,itemsPerRow:g,itemsPerCol:m,itemWidth:C?.isWrapped?C?.maxItemWidth:void 0,isReadOnly:f,focusedItemInfo:D,hoveredItemInfo:z,activeId:N["aria-activedescendant"]})]})}))}):null,B,w,R]})}}));
//# sourceMappingURL=SectionalLegend-14560bfb.js.map
