{"version":3,"file":"RemovableTabBarItem-4117ccb1.js","sources":["../../src/UNSAFE_TabBarCommon/RemovableTabBarItem.tsx"],"sourcesContent":["import { useCallback } from 'preact/hooks';\nimport { useHover } from '../hooks/UNSAFE_useHover';\nimport { EmbeddedIconButton } from '../PRIVATE_EmbeddedIconButton';\nimport { Close } from '../UNSAFE_RedwoodIcons/Close';\nimport { Flex } from '../UNSAFE_Flex';\nimport { mergeInterpolations } from '../utils/UNSAFE_mergeInterpolations';\nimport { flexitemInterpolations } from '../utils/UNSAFE_interpolations/flexitem';\nimport type { FlexitemProps } from '../utils/UNSAFE_interpolations/flexitem';\nimport { useTabBarContext } from './useTabBarContext';\nimport { BaseTabBarItem, BaseTabBarItemProps } from './BaseTabBarItem';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport type { BundleType } from '../resources/nls/bundle';\n\ntype RemovableTabBarItemProps<K extends string | number> = Omit<\n  BaseTabBarItemProps<K>,\n  'removeIcon'\n>;\n\nexport function RemovableTabBarItem<K extends string | number>({\n  itemKey,\n  label,\n  icon,\n  badge,\n  metadata,\n  severity\n}: RemovableTabBarItemProps<K>) {\n  const { selection, currentKey, layout, onRemove } = useTabBarContext();\n  const isSelected = selection === itemKey;\n  const isCurrent = currentKey === itemKey;\n\n  const handleRemove = useCallback(() => {\n    onRemove?.({ value: itemKey as K });\n  }, [onRemove, itemKey]);\n\n  const { hoverProps, isHover } = useHover({});\n\n  //instead of specifying flex: '1 0 auto' in cssProps var\n  const styleInterpolations = mergeInterpolations<FlexitemProps>([\n    ...Object.values(flexitemInterpolations)\n  ]);\n  const flexDimensions = styleInterpolations({\n    flex: layout === 'stretch' ? '1 0 auto' : '0 0 auto'\n  });\n\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n\n  //TODO: In addition to aria-label a genric instruction is required for keyboard deletion\n  //common to al tabs,after feedback from Curt's investigations.\n  return (\n    <div {...hoverProps} style={flexDimensions}>\n      <Flex>\n        <BaseTabBarItem\n          itemKey={itemKey}\n          label={label}\n          icon={icon}\n          badge={badge}\n          metadata={metadata}\n          severity={severity}\n          removeIcon={\n            <span data-oj-tabbar-item-remove-icon=\"true\">\n              <EmbeddedIconButton\n                aria-label={translations.tabBarNavigationList_removeCueText()}\n                size=\"xs\"\n                onAction={handleRemove}>\n                {(isHover || isSelected || isCurrent) && <Close />}\n              </EmbeddedIconButton>\n            </span>\n          }\n        />\n      </Flex>\n    </div>\n  );\n}\n"],"names":["itemKey","label","icon","badge","metadata","severity","selection","currentKey","layout","onRemove","useTabBarContext","isSelected","isCurrent","handleRemove","useCallback","value","hoverProps","isHover","useHover","flexDimensions","mergeInterpolations","Object","values","flexitemInterpolations","styleInterpolations","flex","translations","useTranslationBundle","_jsx","jsx","style","children","Flex","BaseTabBarItem","removeIcon","EmbeddedIconButton","tabBarNavigationList_removeCueText","size","onAction","Close"],"mappings":"uWAkBgB,UAA+CA,QAC7DA,EAAOC,MACPA,EAAKC,KACLA,EAAIC,MACJA,EAAKC,SACLA,EAAQC,SACRA,IAEA,MAAMC,UAAEA,EAASC,WAAEA,EAAUC,OAAEA,EAAMC,SAAEA,GAAaC,EAAAA,mBAC9CC,EAAaL,IAAcN,EAC3BY,EAAYL,IAAeP,EAE3Ba,EAAeC,EAAAA,aAAY,KAC/BL,IAAW,CAAEM,MAAOf,GAAe,GAClC,CAACS,EAAUT,KAERgB,WAAEA,EAAUC,QAAEA,GAAYC,EAAQA,SAAC,CAAE,GAMrCC,EAHsBC,EAAAA,oBAAmC,IAC1DC,OAAOC,OAAOC,2BAEIC,CAAoB,CACzCC,KAAiB,YAAXjB,EAAuB,WAAa,aAGtCkB,EAAeC,uBAAiC,4BAItD,OACEC,EAASC,IAAA,MAAA,IAAAb,EAAYc,MAAOX,EAAcY,SACxCH,EAACC,IAAAG,EAAIA,eACHJ,EAACC,IAAAI,EAAcA,eACb,CAAAjC,QAASA,EACTC,MAAOA,EACPC,KAAMA,EACNC,MAAOA,EACPC,SAAUA,EACVC,SAAUA,EACV6B,WACEN,EAAAA,8CAAsC,OAAMG,SAC1CH,EAACC,IAAAM,EAAkBA,iCACLT,EAAaU,qCACzBC,KAAK,KACLC,SAAUzB,EACTkB,UAACd,GAAWN,GAAcC,IAAcgB,EAAAA,IAACW,EAAAA,SAAK,CAAA,YAQ/D"}