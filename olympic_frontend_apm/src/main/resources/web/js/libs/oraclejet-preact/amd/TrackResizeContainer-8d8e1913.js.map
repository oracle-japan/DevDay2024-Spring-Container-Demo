{"version":3,"file":"TrackResizeContainer-8d8e1913.js","sources":["../../src/PRIVATE_TrackResizeContainer/TrackResizeContainer.tsx"],"sourcesContent":["import { ComponentChildren } from 'preact';\nimport { useRef } from 'preact/hooks';\nimport { useSize } from '../hooks/PRIVATE_useSize';\n\ntype Props = {\n  children: (width: number, height: number) => ComponentChildren;\n  width: string;\n  height: string;\n};\n\nconst TrackResizeContainer = ({ children, width, height }: Props) => {\n  const content =\n    !isFixedLength(width) || !isFixedLength(height) ? (\n      <TrackResizeOnContainer width={width} height={height}>\n        {children}\n      </TrackResizeOnContainer>\n    ) : (\n      <div style={{ width, height }}>\n        {children(fixedLengthToNumber(width), fixedLengthToNumber(height))}\n      </div>\n    );\n  return content;\n};\n\nconst TrackResizeOnContainer = ({ children, width, height }: Props) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const optionsRef = useRef({ box: 'border-box' as const });\n  const size = useSize(ref, optionsRef.current);\n\n  return (\n    <div ref={ref} style={{ width, height }}>\n      {size && children(size.width, size.height)}\n    </div>\n  );\n};\n\nconst isFixedLength = (length: string) => length.endsWith('px') || length === '0';\nconst fixedLengthToNumber = (length: string) =>\n  length === '0' ? 0 : Number(length.substring(0, length.length - 2));\n\nexport { TrackResizeContainer };\n"],"names":["TrackResizeOnContainer","children","width","height","ref","useRef","optionsRef","box","size","useSize","current","_jsx","style","isFixedLength","length","endsWith","fixedLengthToNumber","Number","substring","jsx"],"mappings":"4GAUM,MAcAA,EAAyB,EAAGC,WAAUC,QAAOC,aACjD,MAAMC,EAAMC,SAAuB,MAC7BC,EAAaD,EAAMA,OAAC,CAAEE,IAAK,eAC3BC,EAAOC,EAAOA,QAACL,EAAKE,EAAWI,SAErC,OACEC,EAAAA,IAAA,MAAA,CAAKP,IAAKA,EAAKQ,MAAO,CAAEV,QAAOC,UAAQF,SACpCO,GAAQP,EAASO,EAAKN,MAAOM,EAAKL,SAErC,EAGEU,EAAiBC,GAAmBA,EAAOC,SAAS,OAAoB,MAAXD,EAC7DE,EAAuBF,GAChB,MAAXA,EAAiB,EAAIG,OAAOH,EAAOI,UAAU,EAAGJ,EAAOA,OAAS,2BA5BrC,EAAGb,WAAUC,QAAOC,YAE5CU,EAAcX,IAAWW,EAAcV,GAKtCQ,EAAAQ,IAAA,MAAA,CAAKP,MAAO,CAAEV,QAAOC,UAAQF,SAC1BA,EAASe,EAAoBd,GAAQc,EAAoBb,MAL5DQ,EAACQ,IAAAnB,EAAuB,CAAAE,MAAOA,EAAOC,OAAQA,EAC3CF,SAAAA"}