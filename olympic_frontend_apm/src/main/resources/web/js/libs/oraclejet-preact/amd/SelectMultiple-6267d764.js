define(['exports', 'preact/jsx-runtime', 'preact', 'preact/compat', './Label-7bdf0440', './ReadonlyTextFieldInput-95f0f2cd', './StyledTextField-46ce4825', './Flex-d982a43c', './FormContext-c9b69cf8', './useFormContext-dc7a7549', './FormFieldContext-e622bec1', 'preact/hooks', 'css!./LabelValueLayoutStyles.styles.css', './logger-b63acb49', 'css!./SkeletonStyles.styles.css', 'css!./TextFieldLoadingStyles.styles.css', 'css!./TextFieldStyles.styles.css', 'module', './UNSAFE_TextField/themes/redwood/TextFieldVariants.css', 'css!./RadioStyles.styles.css', 'module', './UNSAFE_RadioItem/themes/redwood/RadioVariants.css', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './UNSAFE_TextField/themes/FormLayoutStyles.css', 'module', 'css!./CheckboxStyles.styles.css', 'module', './UNSAFE_Checkbox/themes/redwood/CheckboxVariants.css', './InputGroupContext-cc040e6d', './TopLayerHost-ed31c70d', './TextFieldInput-04f8c98e', './useTranslationBundle-1a7cf79b', 'css!./LiveRegionStyles.styles.css', './TabbableModeContext-1b650f6f', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-68356e38', './CompactUserAssistance-e042304f', './Floating-7b312a86', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'css!./IconStyle.styles.css', './Popup-a5ec58c1', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useFocusableTextField-5dd67c03', './useLoadingIndicatorTimer-d3e6a52b', './useTextField-d368bfb8', './useSelectCommon-525b89b5', './useAccessibleContext-db5afb7b', './textAlign-1163c254', './useFormFieldContext-de5654ba', 'css!./ReadonlyTextFieldInputStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldInputVariants.css', './TextField-4f53b91a', './UNSAFE_SelectMultiple/themes/SelectedValuesCountStyles.css', './Chip-a75c7ed6', './IconButton-c2ad6964', './CancelS-6a05278f', './useFocusWithin-0f626ba9', './useUser-8e4e5333', './keyboardUtils-1f10b21e', './classNames-62eaa01c', './dimensions-597d86a6', './mergeInterpolations-73b24f1a', './HiddenAccessible-61fda488', './Text-fb81a941', './Close-6e354289', './UNSAFE_SelectMultiple/themes/TextTagStyles.css', './UNSAFE_SelectMultiple/themes/TextTagListStyles.css', './LiveRegion-3534985f', './View-63597d55', './UNSAFE_SelectMultiple/themes/MobileDropdownFooterStyles.css', './Button-a0453e61', './equals-67a4625c', './mergeProps-7be264ec', './stringUtils-aa6f579b'], (function(e,s,t,o,n,i,a,l,r,d,c,u,p,h,y,b,m,x,S,f,w,T,v,g,F,C,D,A,L,R,I,k,E,U,V,K,j,B,P,M,O,_,N,H,z,q,Y,W,$,G,Z,J,Q,X,ee,se,te,oe,ne,ie,ae,le,re,de,ce,ue,pe,he,ye,be,me,xe,Se,fe,we,Te,ve,ge,Fe,Ce,De,Ae){"use strict";function Le({assistiveText:e,currentKey:t,data:o,dropdownId:n,dropdownRef:i,helpSourceLink:a,helpSourceText:l,isAddToListShown:r,isDisabled:d,isDropdownAbove:c,isEmptyResults:u,isOpen:p,isReadonly:h,isSelectedOnlyView:y,isUserFiltering:b,itemRenderer:m,itemText:x,label:S,mainFieldRef:f,searchText:w,selectedKeys:T,userAssistanceDensity:v,onAddToListAction:g,onAutoDismiss:F,onCurrentKeyChange:C,onLoadRange:D,onPosition:A,onSelectionChange:L}){const R=U.useTranslationBundle("@oracle/oraclejet-preact"),I=!p||c||d||h||!e&&!a||"efficient"!==v&&"reflow"!==v?void 0:s.jsx(X.DropdownUserAssistance,{assistiveText:e,fieldLabel:S,helpSourceLink:a,helpSourceText:l,userAssistanceDensity:v}),k=u?r?void 0:s.jsx(X.EmptyResults,{}):s.jsx(X.DefaultList,{"aria-label":S??"",currentItemVariant:"highlight",currentKey:t,data:o,itemRenderer:m,itemText:x,searchText:y?void 0:b?w:void 0,selectedKeys:T,selectionMode:"multiple",onCurrentKeyChange:C,onLoadRange:D,onSelectionChange:L}),E=r?s.jsx(X.LinkItem,{isHighlighted:u,onAction:g,children:R.select_addToList()}):void 0;return s.jsxs(X.Dropdown,{dropdownRef:i,id:n,isOpen:p,anchorRef:f,onAutoDismiss:F,onPosition:A,children:[s.jsxs(X.DropdownList,{hasBottomGap:void 0===I,isLoading:null===o,children:[k,E]}),I]})}function Re({"aria-label":e,count:t=0,onKeyDown:o,onKeyUp:n,onMouseDown:i,...a}){const l=U.useTranslationBundle("@oracle/oraclejet-preact"),r=l.selectMultiple_showSelectedValues(),d=e?`${e}. `:"",c=l.selectMultiple_countPlus({COUNT:"99"}),u=t>99?`${c}`:`${t}`,p=`${d}${l.selectMultiple_valuesSelected({VALUE_COUNT:`${t}`})} ${r}`;return s.jsx("div",{class:ae.selectedValueCountStyles.base,onKeyDown:o,onKeyUp:n,onMouseDown:i,children:s.jsx(le.Chip,{"aria-label":p,...a,children:u})})}function Ie({children:e,columnSpan:t,fieldLabel:o,hasInsideLabel:n,isBackButtonShown:i,isClearButtonShown:a,isDropdownArrowShown:r,isDropdownSelectedOnlyView:d,isSelectedValuesCountShown:c,selectedValuesCount:u,onBackButtonClick:p,onClearButtonClick:h,onDropdownArrowClick:y,onSelectedValuesCountKeyDown:b,onSelectedValuesCountKeyUp:m,onSelectedValuesCountMouseDown:x,onSelectedValuesCountToggle:S,...f}){const{isDisabled:w,isLoading:T}=te.useFormFieldContext(),v=U.useTranslationBundle("@oracle/oraclejet-preact"),g=i?s.jsx(re.IconButton,{"aria-label":v.selectMultiple_back(),variant:"borderless",onAction:p,children:s.jsx(de.SvgNavLeft,{})}):null,F=a?s.jsx(re.IconButton,{"aria-label":v.formControl_clear(),size:n?"md":"sm",variant:"borderless",onAction:h,children:s.jsx(de.SvgCancelS,{})}):null,C=r?s.jsx(X.DropdownArrow,{isDisabled:w,size:n?"md":"sm",onClick:y}):null,D=T?void 0:c?s.jsxs(l.Flex,{align:"center",justify:"center",gap:[0,"1x"],children:[s.jsx(Re,{"aria-label":o,count:u,isDisabled:w,isSelected:d,onKeyDown:b,onKeyUp:m,onMouseDown:x,onToggle:S}),a&&F,r&&C]}):s.jsxs(s.Fragment,{children:[a&&F,r&&C]});return s.jsx(ie.TextField,{columnSpan:t,startContent:i&&g,mainContent:e,endContent:D,...f})}function ke({children:e,removeIcon:t="never",isSelected:o=!1,onRemoveAction:n,onSelect:i,onRemoveIconClick:a,isFocused:l,value:r}){const d=U.useTranslationBundle("@oracle/oraclejet-preact"),c=u.useRef(null),p=u.useId(),h=he.classNames([fe.textTagStyles.base,o&&fe.textTagStyles.selected]),y=u.useCallback((()=>{n?.(r)}),[r,n]),b=u.useCallback((()=>{i?.(r)}),[r,i]),m=u.useCallback((()=>{a?.(r)}),[r,a]),x=u.useCallback((e=>{pe.isBackspaceOrDelete(e)&&y()}),[y]);return u.useEffect((()=>{l&&o&&(c.current?.focus(),c.current?.scrollIntoView({block:"nearest"}))}),[l,o]),s.jsxs(s.Fragment,{children:[s.jsxs("span",{ref:c,class:h,tabIndex:-1,onClick:b,onKeyUp:x,onMouseDown:X.preventDefault,role:"option","aria-describedby":p,"aria-selected":o?"true":"false",children:[s.jsx(xe.Text,{size:"md",variant:"inherit",children:e}),"always"===t&&s.jsx(K.TabbableModeContext.Provider,{value:{isTabbable:!1},children:s.jsx(re.IconButton,{size:"xs",variant:"ghost",onAction:m,children:s.jsx(Se.SvgClose,{})})})]}),s.jsx(me.HiddenAccessible,{id:p,children:d.selectMultiple_removeSelectedTagInstructionText()})]})}const Ee=Array.from(["maxWidth"],(e=>ye.dimensionInterpolations[e])),Ue=be.mergeInterpolations(Ee);const Ve=o.forwardRef((function(e,t=(()=>{})){const{"aria-label":o,data:n,hasInsideLabel:i=!1,removeIcon:a="never",onExitNavigation:l,onRemove:r}=e,d=u.useRef(null),[c,p]=u.useState([]),{direction:h}=ue.useUser(),y=u.useRef(-1),b=n.at(-1)?.value,m=u.useRef({value:b,index:n.length-1});m.current={value:b,index:n.length-1};const x=u.useCallback((e=>{const s=n.at(e)?.value;null!=s&&p([s])}),[n]),S=u.useCallback((()=>{p((e=>(y.current=-1,e.length?[]:e)))}),[]),f=u.useCallback((e=>{r?.([e]),l?.(),S()}),[S,l,r]),w=u.useCallback((e=>{const s=[...c];c.includes(e)||s.push(e),r?.(s),l?.(),S()}),[c,S,l,r]),T=u.useCallback((e=>{p([e]),y.current=n.findIndex((s=>s.value===e))}),[n,p]),v=u.useCallback((e=>{if(0!==n.length){if("ltr"===h&&"ArrowLeft"===e.code||"rtl"===h&&"ArrowRight"===e.code){if(0===y.current)return;return y.current-=1,void x(y.current)}return"ltr"===h&&"ArrowRight"===e.code||"rtl"===h&&"ArrowLeft"===e.code?y.current===n.length-1?void l?.():(y.current+=1,void x(y.current)):"Home"===e.code?(y.current=0,void x(y.current)):"End"===e.code?(y.current=n.length-1,void x(y.current)):pe.isSelectAll(e)?(p(n.map((e=>e.value))),void e.preventDefault()):void 0}}),[n,h,l,x,p]),g=u.useCallback((()=>{p((e=>e.length||void 0===m.current.value?e:(y.current=m.current.index,[m.current.value])))}),[]),F=u.useCallback((()=>{S()}),[S]),{focusProps:C}=ce.useFocusWithin({onBlurWithin:F});u.useImperativeHandle(t,(()=>({blur:F,focus:g})),[F,g]),u.useEffect((()=>{d.current?.scrollTo({left:d.current.scrollWidth*("ltr"===h?1:-1)})}),[n,h]);const D=Ue(e),A=he.classNames([we.textTagListStyles.textTagListBase,i&&we.textTagListStyles.textTagListInsideLabel]);return s.jsx("div",{class:A,ref:d,tabIndex:-1,onKeyDown:v,role:"listbox","aria-label":o,"aria-multiselectable":"true",style:D,...C,children:n.map(((e,t)=>s.jsx(ke,{isFocused:y.current===t,isSelected:c.includes(e.value),onRemoveAction:w,onSelect:T,onRemoveIconClick:f,removeIcon:a,value:e.value,children:e.label},e.value)))})}));function Ke({displayValue:e,isAddToListShown:t,isTextTagListShown:o,isUserFiltering:n,liveRegionText:i,onExitNavigation:a,onRemove:r,removeIcon:d,selectedValuesDescriptionId:c,textTagListData:u,textTagListRef:p,userInput:h,virtualKeyboard:y,...b}){const m=U.useTranslationBundle("@oracle/oraclejet-preact"),x=t?m.select_addToListAvailable():void 0;return s.jsxs(s.Fragment,{children:[o&&s.jsx(Ve,{"aria-label":m.selectMultiple_selectedValues(),data:u,hasInsideLabel:b.hasInsideLabel,maxWidth:"50%",onExitNavigation:a,onRemove:r,ref:p,removeIcon:d}),s.jsx(l.Flex,{flex:1,children:s.jsx(E.TextFieldInput,{"aria-autocomplete":"list",autoComplete:"off",hasPrefix:o,role:"combobox",spellcheck:!1,type:"auto"===y?"search":y,value:n||o?h:e,...b})}),o&&s.jsx(me.HiddenAccessible,{id:c,isHidden:!0,children:e}),s.jsx(Te.LiveRegion,{children:i}),t?s.jsx(Te.LiveRegion,{children:x}):void 0]})}function je({onApply:e}){const t=U.useTranslationBundle("@oracle/oraclejet-preact");return s.jsx("div",{class:ge.mobileDropdownFooterStyles.base,children:s.jsx(Fe.Button,{display:"label",edge:"bottom",label:t.selectMultiple_apply(),size:"sm",variant:"callToAction",onAction:e})})}function Be(e,s){const t=U.useTranslationBundle("@oracle/oraclejet-preact").plural_separator();return{displayValue:u.useMemo((()=>{if(void 0===s)return"";const o=function(e,s){const t=s?[...s?.values()]:[],o=s=>X.renderItemText(s,e),n=t.map(o);return new Set(n)}(e,s),n=function(e,s){return Array.from(e.values()).join(s)}(o,t);return n}),[e,t,s]),textTags:u.useMemo((()=>void 0===s?[]:function(e,s=[]){return s.map((s=>({label:X.renderItemText(s,e)??"",value:s.key})))}(e,s)),[e,s])}}function Pe({isDropdownSelectedOnlyView:e,valueItems:s}){const t=u.useRef(s),o=u.useRef(e);t.current=o.current!==e?s:t.current,o.current=e;return{data:u.useMemo((()=>e&&t.current&&0!==t.current.length?{offset:0,totalSize:t.current.length??0,sizePrecision:"exact",data:t.current.map((e=>({data:e.data,metadata:e.metadata??{key:e.key}})))}:void 0),[e]),onLoadRange:void 0}}const Me=[];const Oe=(e,s,t)=>s.data.forEach((s=>{t.has(s.metadata.key)&&e.set(s.metadata.key,{data:s.data,key:s.metadata.key,metadata:s.metadata})})),_e=e=>new Set(e.map((e=>e.key)));function Ne({"aria-describedby":e,"aria-label":t,assistiveText:o,data:i,dropdownId:a,enabledElementRef:l,helpSourceLink:r,helpSourceText:d,isAddToListShown:p,isDisabled:h,isEmptyResults:y,isFocused:b,isLoading:m,isOpen:x,isReadonly:S,isRequired:f,isSelectedOnlyView:w,isUserFiltering:T,itemRenderer:v,itemText:g,label:F,liveRegionText:C,placeholder:D,propIsLoading:A,searchText:L,selectedValuesDescriptionId:R,setDropdownOpen:I,setUserInput:k,stopFiltering:E,textAlign:V,textTagListRef:K,userAssistanceDensity:j,userInput:B,valueItems:P,virtualKeyboard:M,onAddToListAction:O,onCommit:_,onFieldBlur:N,onFieldFocus:H,onFieldInput:z,onFieldKeyDown:q,onFieldKeyUp:Y,onLoadRange:W,onSelectedValuesCountKeyDown:$,onSelectedValuesCountKeyUp:G,onSelectedValuesCountMouseDown:Z,onSelectedValuesCountToggle:J}){const ee=U.useTranslationBundle("@oracle/oraclejet-preact"),{collectionProps:se,footerProps:te,selectMultipleFieldInputProps:oe,selectMultipleFieldProps:ne}=function({data:e,inputRef:s,isDropdownOpen:t,isDropdownSelectedOnlyView:o,itemText:n,textTagListRef:i,userInput:a,valueItems:l=Me,onCommit:r,onLoadRange:d,setDropdownOpen:c,setUserInput:p,stopFiltering:h}){const[y,b]=u.useState({rowKey:void 0}),[m,x]=u.useState(_e(l)),S=u.useRef(new Map),f=u.useMemo((()=>{const e=[];return m.forEach((s=>{const t=l.find((e=>e.key===s));t?e.push(t):S.current.has(s)&&e.push(S.current.get(s))})),e}),[m,l]),{textTags:w,displayValue:T}=Be(n,f),v=u.useRef(null),{data:g,onLoadRange:F}=Pe({isDropdownSelectedOnlyView:o,valueItems:f}),C=u.useCallback((e=>{b({rowKey:e.value})}),[b]),D=u.useCallback((s=>{const t=new Set(s.value.keys?.values());x(t),p(""),e&&Oe(S.current,e,t)}),[e,x,p]),A=u.useCallback((()=>{x(new Set(l.map((e=>e.key)))),S.current.clear(),c(!1),h(),s.current?.focus()}),[s,c,h,l]),L=u.useCallback((()=>{r({previousValue:_e(l),value:m}),A()}),[m,l,A,r]),R=u.useCallback((()=>{A()}),[A]),I=u.useCallback((()=>{x(new Set),h()}),[h]),k=u.useCallback((e=>{const s=new Set(m);e.forEach((e=>s.delete(e))),x(s)}),[m]),E=u.useCallback((()=>{setTimeout((()=>v.current?.focus()),0)}),[]),U=u.useRef(t);u.useEffect((()=>{if(t){if(U.current)return;return setTimeout((()=>v.current?.focus()),0),void(U.current=!0)}U.current=!1}),[t]);const[V,K]=u.useState(l);return V!==l&&(t||x((e=>{const s=_e(l);return Ce.equals(e,s)?e:s})),K(l)),{collectionProps:{currentKey:y.rowKey,data:o?g:e,selectedKeys:m,onCurrentKeyChange:C,onLoadRange:o?F:d,onSelectionChange:D},footerProps:{onApply:L},selectMultipleFieldInputProps:{displayValue:T,hasEmptyLabel:!1,hasInsideLabel:!0,inputRef:v,isTextTagListShown:w.length>0,isUserFiltering:!0,removeIcon:"always",userInput:a,textTagListData:w,textTagListRef:i,onExitNavigation:E,onRemove:k},selectMultipleFieldProps:{hasInsideLabel:!0,isBackButtonShown:!0,isClearButtonShown:!X.isSearchTextEmptyOrUndefined(a)||0!==w.length,isDropdownArrowShown:!1,isDropdownSelectedOnlyView:o,isSelectedValuesCountShown:m.size>0||o,selectedValuesCount:m.size,styleVariant:"embedded",onBackButtonClick:R,onClearButtonClick:I}}}({data:i,inputRef:l,isDropdownOpen:x,isDropdownSelectedOnlyView:w,itemText:g,textTagListRef:K,userInput:B,valueItems:P,onCommit:_,onLoadRange:W,setDropdownOpen:I,setUserInput:k,stopFiltering:E}),{formFieldContext:ie,inputProps:ae,labelProps:le,textFieldProps:re,userAssistanceProps:de}=Q.useTextField({ariaDescribedBy:e,helpSourceLink:r,helpSourceText:d,isDisabled:!1,isFocused:b,isLoading:m,isReadonly:!1,isRequiredShown:!1,labelEdge:"inside",styleVariant:"default",value:ne.selectedValuesCount>0||void 0});ie.hasValue=A||ie.hasValue;const ce={label:s.jsx(n.Label,{...le,children:F}),labelEdge:"inside"},ue=!x||h||S||!o&&!r||"efficient"!==j&&"reflow"!==j?void 0:s.jsx(X.DropdownUserAssistance,{assistiveText:o,fieldLabel:F,helpSourceLink:r,helpSourceText:d,userAssistanceDensity:j,...de}),pe=y?p?void 0:s.jsx(X.EmptyResults,{}):s.jsx(X.DefaultList,{...se,"aria-label":F??"",itemRenderer:v,itemText:g,searchText:w?void 0:T?L:void 0,selectionMode:"multiple"}),he=p?s.jsx(X.LinkItem,{onAction:O,children:ee.select_addToList()}):void 0;return s.jsx(X.SelectMobileDropdown,{header:s.jsxs(c.FormFieldContext.Provider,{value:ie,children:[s.jsx(ve.View,{children:s.jsx(Ie,{fieldLabel:F,onBlur:N,onFocus:H,onSelectedValuesCountKeyDown:$,onSelectedValuesCountKeyUp:G,onSelectedValuesCountMouseDown:Z,onSelectedValuesCountToggle:J,...ce,...re,...ne,children:s.jsx(Ke,{"aria-controls":a,"aria-expanded":x,"aria-label":t,isAddToListShown:p,isRequired:f,liveRegionText:C,placeholder:D,selectedValuesDescriptionId:R,textAlign:V,virtualKeyboard:M,onInput:z,onKeyDown:q,onKeyUp:Y,...ae,...oe})})}),ue]}),footer:s.jsx(je,{...te}),id:a,isOpen:x,children:s.jsxs(X.DropdownList,{hasTopGap:!he,hasBottomGap:!0,isLoading:null===i,children:[pe,he]})})}function He(e){const s=e?.reduce(((e,s)=>(e.add(s.key),e)),new Set);return s}const ze=o.forwardRef((({addToList:e="off","aria-describedby":o,assistiveText:l,columnSpan:r,data:p,helpSourceLink:h,helpSourceText:y,isDisabled:b,isLoading:m,isReadonly:x,isRequired:S,isRequiredShown:f,itemRenderer:w,itemText:T,label:v,labelEdge:g,labelStartWidth:F,messages:C,onAddToListAction:D,onCommit:A,onFilter:L,onLoadRange:R,placeholder:I,testId:k,textAlign:E,userAssistanceDensity:V,valueItems:K,variant:j="default",virtualKeyboard:B},P)=>{const{isDisabled:_,isReadonly:N,labelEdge:H,labelStartWidth:z,textAlign:q,userAssistanceDensity:Y}=d.useFormContext(),W=b??_,$=x??N,G=g??H,ee=F??z,se=E??q,te=V??Y,{enabledElementRef:oe,focusProps:ne,isFocused:ie,readonlyElementRef:ae}=Z.useFocusableTextField({isDisabled:W,isReadonly:$,ref:P}),{addToListEventHandlers:le,ariaProps:re,collectionProps:de,data:ce,dropdownArrowEventHandlers:he,dropdownEventHandlers:ye,dropdownRef:be,hasSelectedValuesCount:me,inputEventHandlers:xe,isAddToListShown:Se,isDataFetched:fe,isDropdownAbove:we,isDropdownOpen:Te,isDropdownSelectedOnlyView:ve,isEmptyResults:ge,isFocused:Fe,isUserFiltering:Ce,mainFieldRef:Re,mouseProps:ke,searchText:Ee,selectedValuesCountProps:Ue,selectedValuesDescriptionId:Ve,setDropdownOpen:je,setUserInput:Me,stopFiltering:Oe,textTagListProps:_e,userInput:ze}=function({addToList:e,ariaDescribedBy:s,data:t,inputRef:o,isDisabled:n,isFocused:i,isReadonly:a,onAddToListAction:l,onCommit:r,onFilter:d,onLoadRange:c,valueItems:p}){const[h,y]=u.useState(!1),b=p?.length,m=void 0!==b&&b>0||h,x=Pe({isDropdownSelectedOnlyView:h,valueItems:p}),S=h?x.data:t,f=h?x.onLoadRange:c,w=u.useCallback((e=>{X.isSearchTextEmptyOrUndefined(e.searchText)||y(!1),d?.(e)}),[d]),{currentRow:T,dropdownRef:v,handleDropdownArrowClick:g,handleDropdownAutoDismiss:F,handleDropdownPosition:C,handleInput:D,handleMainFieldKeyDown:A,handleMainFieldKeyUp:L,handleUpDownArrowKeys:R,isDropdownAbove:I,isDropdownOpen:k,isFocused:E,isUserFiltering:U,mainFieldRef:V,onCurrentKeyChange:K,onMouseDown:j,searchText:B,setCurrentRow:P,setDropdownOpen:M,setUserInput:O,stopFiltering:_,userInput:N}=X.useSelectCommon({data:S,inputRef:o,isFocused:i,onFilter:w}),[H,z]=u.useState(k),[q,Y]=u.useState(p),[W,$]=u.useState(He(p)),G=null!=S&&!X.isBeforeDataFetch(S),Z=G&&0===S?.totalSize,J="on"===e&&U&&null!=B&&B.length>0&&Z,Q=u.useCallback((()=>{M(!1),_(),l?.({searchText:U?B:void 0})}),[U,l,B,M,_]),ee=u.useRef(null),{direction:se}=ue.useUser(),te=u.useId(),oe=Ae.merge([E&&te,s]),ne=u.useCallback((()=>{v.current?.parentElement?.removeChild(v.current)}),[v]),ie=u.useCallback((e=>U&&k&&!X.isSearchTextEmptyOrUndefined(N)&&(S?.data.length??0)>0&&void 0!==e.rowKey),[S,k,U,N]),ae=u.useCallback((e=>{if(W?.has(e))return;const s=void 0===W?new Set([e]):new Set([...W.values(),e]);r({previousValue:W,value:s}),$(s)}),[r,W,$]),le=u.useCallback((e=>{if(k&&"keydown"===e?.type){const s=e;s.code===pe.KEYS.TAB&&(s.shiftKey||!m?o.current?.focus():de.current?.focus(),ne())}}),[m,o,k,ne]),re=u.useCallback((e=>{if(!pe.isControlOrFunctionKey(e))switch(e.code){case pe.KEYS.TAB:k&&(e.shiftKey||!m&&!e.shiftKey)&&(ne(),M(!1)),m&&!e.shiftKey&&e.stopPropagation();break;case pe.KEYS.LEFT:"ltr"===se&&o.current instanceof HTMLInputElement&&0===o.current?.selectionStart&&0===o.current?.selectionEnd&&ee.current?.focus();break;case pe.KEYS.RIGHT:"rtl"===se&&o.current instanceof HTMLInputElement&&0===o.current?.selectionStart&&0===o.current?.selectionEnd&&ee.current?.focus();break;case pe.KEYS.ENTER:case pe.KEYS.NUMPAD_ENTER:if(X.isPhone())return;if(J)return void Q();ie(T)&&(M(!1),_(),ae(T.rowKey))}}),[T,se,Q,m,o,J,k,ne,ae,M,ie,_]);if(q!==p){const e=He(p);$(e)}const de=u.useRef(null);u.useEffect((()=>{de.current=m&&V.current?.querySelector?V.current.querySelector('[role="switch"]'):null}),[m,n,a,V]);const ce=u.useCallback((e=>{switch(e.code){case pe.KEYS.TAB:k&&!e.shiftKey&&(ne(),M(!1)),e.shiftKey&&e.stopPropagation();break;case pe.KEYS.UP:case pe.KEYS.DOWN:e.preventDefault();break;case pe.KEYS.ESC:k&&(M(!1),e.preventDefault(),e.stopPropagation());break;case pe.KEYS.ENTER:e.stopPropagation()}}),[k,ne,M]),he=u.useCallback((e=>{switch(e.code){case pe.KEYS.UP:case pe.KEYS.DOWN:R(e)}}),[R]),ye=u.useCallback((e=>{e.preventDefault(),o.current?.focus()}),[o]),be=u.useCallback((e=>{k||M(!0);const s=e.value??!1;s!==h&&(y(s),s&&_())}),[k,h,M,_]);!k&&h&&y(!1);const me=u.useCallback((e=>{const s=new Set(e.value.keys?.values());$(s),O(""),r?.({value:s,previousValue:W})}),[r,W,$,O]),xe=u.useCallback((()=>{setTimeout((()=>o.current?.focus()),0)}),[o]),Se=u.useCallback((e=>{const s=W,t=new Set(W);e.forEach((e=>t.delete(e))),r?.({previousValue:s,value:t})}),[r,W]),fe=u.useMemo((()=>De.mergeProps({onAutoDismiss:F,onPosition:C},{onAutoDismiss:le})),[F,C,le]),we=u.useMemo((()=>De.mergeProps({onInput:D,onKeyDown:A,onKeyUp:L},{onKeyDown:re})),[A,D,L,re]),Te=u.useMemo((()=>({textTagListRef:ee,onExitNavigation:xe,onRemove:Se})),[xe,Se]);k&&!H&&P({rowKey:void 0});const[ve,ge]=u.useState(S);if(ve!==S){const e=S?.data[0]?.metadata.key;k&&U&&null!=e&&0===S?.offset&&P({rowKey:X.isSearchTextEmptyOrUndefined(B)?void 0:e}),ge(S)}return H!==k&&z(k),q!==p&&Y(p),{addToListEventHandlers:{onAction:Q},ariaProps:{ariaDescribedBy:oe},collectionProps:{currentKey:T.rowKey,data:S,onCurrentKeyChange:K,onSelectionChange:me,onLoadRange:f,selectedKeys:W},data:S,dropdownArrowEventHandlers:{onClick:g},dropdownEventHandlers:fe,dropdownRef:v,hasSelectedValuesCount:m,inputEventHandlers:we,inputRef:o,isAddToListShown:J,isDataFetched:G,isDropdownAbove:I,isDropdownOpen:k,isDropdownSelectedOnlyView:h,isEmptyResults:Z,isFocused:E,isUserFiltering:U,mainFieldRef:V,mouseProps:n||a?{}:{onMouseDown:j},searchText:B,selectedValuesCountProps:{onKeyDown:ce,onKeyUp:he,onMouseDown:ye,onToggle:be},selectedValuesDescriptionId:te,setDropdownOpen:M,setUserInput:O,stopFiltering:_,textTagListProps:Te,userInput:N}}({addToList:e,ariaDescribedBy:o,data:p,inputRef:oe,isDisabled:W,isFocused:ie,isReadonly:$,onAddToListAction:D,onCommit:A,onFilter:L,onLoadRange:R,valueItems:K}),qe=J.useLoadingIndicatorTimer(m??!1),{baseId:Ye,formFieldContext:We,inputProps:$e,labelProps:Ge,textFieldProps:Ze,userAssistanceProps:Je}=Q.useTextField({ariaDescribedBy:re.ariaDescribedBy,helpSourceLink:h,helpSourceText:y,isDisabled:W,isFocused:Fe,isLoading:qe,isReadonly:$,isRequiredShown:f,labelEdge:G,messages:C,styleVariant:j,userAssistanceDensity:te,value:void 0!==K&&K.length>0||void 0});We.hasValue=m||We.hasValue;const Qe=`${Ye}-dropdown`,{displayValue:Xe,textTags:es}=Be(T,K),ss="none"!==G?s.jsx(n.Label,{...Ge,...X.isPhone()?{forId:void 0}:{},children:v}):void 0,ts={label:"none"!==G?ss:void 0,labelEdge:"none"!==G?G:void 0,labelStartWidth:"none"!==G?ee:void 0},os="none"===G?v:void 0,ns="efficient"===te||"reflow"===te?W||$?"efficient"!==te?void 0:s.jsx(M.InlineUserAssistance,{userAssistanceDensity:te,...Je}):s.jsx(M.InlineUserAssistance,{assistiveText:l,fieldLabel:v,helpSourceLink:h,helpSourceText:y,messages:C,isRequiredShown:f,userAssistanceDensity:te,...Je}):void 0,is="compact"===te?s.jsx(O.CompactUserAssistance,{anchorRef:Re,messages:C,assistiveText:l,...Je}):void 0,as=U.useTranslationBundle("@oracle/oraclejet-preact");if($)return s.jsx(c.FormFieldContext.Provider,{value:We,children:s.jsx(a.ReadonlyTextField,{role:"presentation",columnSpan:r,compactUserAssistance:is,inlineUserAssistance:ns,onBlur:ne.onfocusout,onFocus:ne.onfocusin,ref:Re,testId:k,...ts,children:s.jsx(i.ReadonlyTextFieldInput,{"aria-describedby":$e["aria-describedby"],"aria-label":os,"aria-labelledby":Ge.id,as:"div",elementRef:ae,hasEmptyLabel:""===v&&"none"===G,hasInsideLabel:void 0!==v&&"inside"===G,textAlign:se,value:Xe})})});const ls="inside"===G,rs=Te&&fe?0===ce?.totalSize?as.select_noMatchesFound():1===ce?.totalSize?as.select_oneMatchFound():"exact"===ce?.sizePrecision?as.select_sizeMatchesFound({TOTAL_SIZE:`${ce?.totalSize}`}):as.select_sizeOrMoreMatchesFound({TOTAL_SIZE:`${ce?.totalSize}`}):"",ds=Te&&void 0!==ce&&(null===ce||ce.totalSize>0||X.isBeforeDataFetch(ce)||ge),cs=""===v&&"none"===G,us=X.isPhone()&&!W?s.jsx(X.SelectMobileFieldInput,{"aria-controls":Qe,"aria-describedby":$e["aria-describedby"],"aria-expanded":Te,"aria-invalid":$e["aria-invalid"],"aria-label":os,"aria-labelledby":Ge.id,displayValue:Xe,hasEmptyLabel:cs,hasInsideLabel:ls,isRequired:S,onBlur:$e.onBlur,onFocus:$e.onFocus,placeholder:I,ref:oe,textAlign:se,variant:$e.variant}):s.jsx(Ke,{"aria-controls":Qe,"aria-expanded":Te,"aria-label":os,displayValue:Xe,hasEmptyLabel:cs,hasInsideLabel:ls,inputRef:oe,isAddToListShown:Se,isRequired:S,isTextTagListShown:Fe&&0!==es.length,isUserFiltering:Ce,liveRegionText:rs,placeholder:I,removeIcon:X.isTablet()?"always":"never",selectedValuesDescriptionId:Ve,textAlign:se,textTagListData:es,userInput:ze,virtualKeyboard:X.isTablet()?B:void 0,...xe,...$e,..._e}),ps=ds?X.isPhone()?s.jsx(Ne,{"aria-describedby":re.ariaDescribedBy,"aria-label":os,assistiveText:l,data:ce,dropdownId:Qe,enabledElementRef:oe,helpSourceLink:h,helpSourceText:y,isAddToListShown:Se,isDisabled:W,isEmptyResults:ge,isFocused:Fe,isLoading:qe,isOpen:ds,isReadonly:$,isRequired:S,isSelectedOnlyView:ve,isUserFiltering:Ce,itemRenderer:w,itemText:T,label:v,liveRegionText:rs,placeholder:I,propIsLoading:m,searchText:Ee,selectedValuesDescriptionId:Ve,setDropdownOpen:je,setUserInput:Me,stopFiltering:Oe,textAlign:se,textTagListRef:_e.textTagListRef,userAssistanceDensity:te,userInput:ze,valueItems:K,virtualKeyboard:B,onAddToListAction:le.onAction,onCommit:A,onFieldBlur:ne.onfocusout,onFieldFocus:ne.onfocusin,onFieldInput:xe.onInput,onFieldKeyDown:xe.onKeyDown,onFieldKeyUp:xe.onKeyUp,onLoadRange:R,onSelectedValuesCountKeyDown:Ue.onKeyDown,onSelectedValuesCountKeyUp:Ue.onKeyUp,onSelectedValuesCountMouseDown:Ue.onMouseDown,onSelectedValuesCountToggle:Ue.onToggle}):s.jsx(Le,{...de,...ye,assistiveText:l,dropdownId:Qe,dropdownRef:be,helpSourceLink:h,helpSourceText:y,isAddToListShown:Se,isDisabled:W,isDropdownAbove:we,isEmptyResults:ge,isOpen:ds,isReadonly:$,isSelectedOnlyView:ve,isUserFiltering:Ce,itemRenderer:w,itemText:T,label:v,mainFieldRef:Re,onAddToListAction:le.onAction,searchText:Ee,userAssistanceDensity:te}):null;return s.jsxs(t.Fragment,{children:[s.jsx(c.FormFieldContext.Provider,{value:We,children:s.jsx(Ie,{columnSpan:r,compactUserAssistance:is,fieldLabel:v,hasInsideLabel:ls,inlineUserAssistance:ns,isDropdownArrowShown:!0,isDropdownSelectedOnlyView:ve,isSelectedValuesCountShown:me,mainFieldRef:Re,onBlur:ne.onfocusout,onFocus:ne.onfocusin,onDropdownArrowClick:he.onClick,onSelectedValuesCountKeyDown:Ue.onKeyDown,onSelectedValuesCountKeyUp:Ue.onKeyUp,onSelectedValuesCountMouseDown:Ue.onMouseDown,onSelectedValuesCountToggle:Ue.onToggle,selectedValuesCount:K?.length,testId:k,...ts,...ke,...Ze,children:us})}),ps]})}));e.SelectMultiple=ze}));
//# sourceMappingURL=SelectMultiple-6267d764.js.map
