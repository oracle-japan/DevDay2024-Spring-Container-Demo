define(['exports', 'preact/jsx-runtime', 'preact/hooks', './mergeProps-7be264ec', './classNames-62eaa01c', './useId-37951d4d', './UNSAFE_NavigationList/themes/NavigationListStyles.css', './collectionUtils-942f04a0', './useCollectionFocusRing-be15ca1f', './useCurrentKey-47aecb22', 'preact/compat', './useTestId-b28a9bba', './BaseNavigationListItem-34817711'], (function(e,t,n,r,o,a,s,i,c,l,u,y,d){"use strict";const g=(e,t,n)=>{const r=e.closest(t),o=e.closest(n);return r?.contains(o)?null:i.keyExtractor(e,t)},f=(e,t,n)=>{const r=n.indexOf(e);if(r>0){const e=n[r===n.length-1?r-1:r+1];if(-1!==t.indexOf(e))return e}return t[0]},v=u.forwardRef((({children:e,selection:v,onSelectionChange:m,onRemove:b,"aria-label":h,"aria-labelledby":K,testId:C},x)=>{const R=n.useRef(null),{showFocusRing:k,currentKey:p,onCurrentKeyChange:N,containerHandlers:I,onKeyDown:S}=function({containerRef:e,selection:t,onRemove:o,onSelectionChange:a,children:s}){const u='[role="option"]',[y,d]=n.useState(t),v=n.useCallback((e=>{d(e.value)}),[]),{currentKeyProps:m}=l.useCurrentKey((e=>o?g(e,u,"[data-oj-navigationlist-item-remove-icon]"):i.keyExtractor(e,u)),!1,i.getPrevNextKeyUsingRef(e,y,!0,u),i.getPrevNextKeyUsingRef(e,y,!1,u),void 0,void 0,y,v),[b,h]=c.useCollectionFocusRing(e,["Home","End","ArrowUp","ArrowDown"]),K={onFocus:n.useCallback((()=>{if(e.current&&void 0===y){const t=i.getFirstVisibleKey(e.current,u);t&&d(t)}}),[y,e])},C=n.useRef();n.useEffect((()=>{if(e.current){const t=Array.from(e.current.querySelectorAll(u),(e=>i.getKey(e)));y&&-1===t.indexOf(y)&&C.current&&d(f(y,t,C.current)),C.current=t}}),[s,y,e]);const x=n.useCallback((t=>{if(("Home"===t.key||"End"===t.key)&&e.current&&y){const n=Array.from(e.current.querySelectorAll(u),(e=>i.getKey(e)));v?.({value:n["Home"===t.key?0:n.length-1]})}y&&"Enter"===t.key&&a?.({value:y,reason:"keyboard"}),y&&"Delete"===t.key&&o?.({value:y})}),[y,a,o,v,e]);return{showFocusRing:b,currentKey:y,onCurrentKeyChange:v,onKeyDown:x,containerHandlers:r.mergeProps(h,m,K)}}({containerRef:R,selection:v,onRemove:b,onSelectionChange:m,children:e}),w={onKeyDown:S},L=o.classNames([s.navigationListStyles.uListStyle]),F=a.useId()+"_",P=y.useTestId(C);return u.useImperativeHandle(x,(()=>({focus:()=>{R.current&&R.current.focus()}}))),t.jsx("ul",{"aria-label":h,"aria-labelledby":K,role:"listbox",ref:R,tabIndex:0,"aria-activedescendant":p?F+p:"",...r.mergeProps(w,I),...P,class:L,children:t.jsx(d.NavigationListContext.Provider,{value:{selection:v,onSelectionChange:m,onCurrentKeyChange:N,currentKey:p,showFocusRing:k,navigationListItemPrefix:F,onRemove:b},children:e})})}));e.NavigationList=v,e.NavigationListItem=function({itemKey:e,label:n,badge:r,metadata:o,severity:a}){return t.jsx(d.BaseNavigationListItem,{itemKey:e,label:n,badge:r,metadata:o,severity:a})}}));
//# sourceMappingURL=NavigationListItem-86df62a9.js.map
