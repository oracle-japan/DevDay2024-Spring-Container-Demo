define(['exports', 'preact/jsx-runtime', './useTextDimensions-74ea064f', './useCssVars-a7656bc3', './cssUtils-c5935582', './UNSAFE_Chart/themes/ChartStyles.css', 'preact/hooks', './Gridlines-a3eec467', './useId-37951d4d', './Axis-e3ebb9ee', './TrackResizeContainer-8d8e1913', './useChartViewport-4e3f9713', './layoutUtils-a2537680', './useChartNav-293b9a9e', './mergeProps-7be264ec', './useSelectDrill-d240d5b5', './useTestId-b28a9bba', './ScrollBar-9d12e083'], (function(e,t,o,i,r,n,a,s,l,d,x,c,u,p,g,I,h,f){"use strict";function S(e,t,o){const i=e.groupIndex+1;if(!(i>=t))return o(i)?{groupIndex:i}:S({groupIndex:i},t,o)}function m(e,t){const o=e.groupIndex-1;if(!(o<0))return t(o)?{groupIndex:o}:m({groupIndex:o},t)}e.Chart=function({width:e="100%",height:v="448px",selectedIds:C=[],hiddenIds:y,hideAndShowBehavior:A="none",orientation:b="vertical",xAxis:D,yAxis:w,plotArea:P,series:N,groups:E,isStacked:G=!1,getDataItem:V,selectionMode:j="none",drilling:T="off",dataCursorPosition:M,onSelectionChange:R,isDataCursorEnabled:k,dataCursorStyle:z,onViewportChange:F,onDataCursorPositionChange:B,onItemDrill:L,onGroupDrill:U,onItemInput:H,datatip:O,zoomAndScroll:W="off",offset:$,getNavUtil:_,getDataItemPos:q,getGapRatio:J,valueFormats:K,findNearest:Q,isRtl:X,children:Y,testId:Z,renderGridLinesInFront:ee,...te}){const oe=r.getChartVars(),ie=h.useTestId(Z);return t.jsx(x.TrackResizeContainer,{width:e,height:v,children:function(e,r){const x=a.useRef(null),h="horizontal"===b,{xAxisPosition:v,yAxisPosition:Z}=u.getAxesPosition(w,h,X),{resolvedVars:re,cssContent:ne}=i.useCssVars(oe),{textMeasureContent:ae,getTextDimensions:se}=o.useTextDimensions();let le=u.getAvailSpace(e,r);const de=u.getScrollBarSpace(le,W,v);let xe=de.scrollDims;le=de.availSpace;const ce=new Set(y),{xProps:ue,xScale:pe,xViewportExtent:ge,xAxisExtent:Ie,xIndexExtent:he,yViewportExtent:fe,yAxisExtent:Se,groupWidth:me,yProps:ve,yScale:Ce,yMaxDim:ye,yMajorTicks:Ae,yMinorTicks:be,plotAreaSpace:De}=u.getLayoutInfo(N,E,V,D,w,le,ce,A,h,X,G,re.labelFontSize,$,se);xe=u.updateScrollBarSpace(xe,"bottom"===v,ye);const we=J(he.startIndex,he.endIndex),Pe=_(he.startIndex,he.endIndex),Ne=ue.tickLabels.map((({index:e})=>e+he.startIndex)),{getNextNavGroup:Ee,getDefaultNavGroup:Ge}=function(e,t,o,i,r){const n=o=>{const r=e[t[o]].drilling;return("on"===i||"groupsOnly"===i)&&"off"!=r},a=e=>o.startIndex>t[e.groupIndex]?(e.groupIndex=0,e):o.endIndex<t[e.groupIndex]?(e.groupIndex=t.length-1,e):void 0;return{getDefaultNavGroup:a,getNextNavGroup:(e,o)=>{let i=a(e);return i||(i="ArrowRight"===o?r?m(e,n):S(e,t.length,n):r?S(e,t.length,n):m(e,n),i||e)}}}(E,Ne,he,T,X),{activeId:Ve,focusedItemInfo:je,hoveredItemInfo:Te,focusedGroupInfo:Me,navProps:Re}=p.useChartNav({rootRef:x,getNextChartItem:Pe,getNextNavGroup:Ee,getDefaultNavGroup:Ge,onItemInput:H,drilling:T,xIndexExtent:he}),ke=I.useSelectDrill({selectionMode:j,selection:C,onChange:R,rootRef:x,drilling:T,onItemDrill:L,onGroupDrill:U,focusedGroupInfo:Me,focusedItemInfo:je,groups:E,getDataItem:V}),ze=c.useChartViewport({width:e,height:r,xViewportExtent:ge,yViewportExtent:fe,xAxisExtent:Ie,yAxisExtent:Se,xScale:pe,yScale:Ce,plotAreaSpace:De,isRtl:X,isHoriz:h,zoomAndScroll:W,onViewportChange:F}),Fe=Q(pe,Ce,me,we),Be=q(pe,Ce,me,we),{datatipContent:Le,dataCursorContent:Ue,datatipProps:He}=I.useChartDatatipAndCursor({series:N,groups:E,width:e,height:r,findNearest:Fe,plotAreaSpace:De,onDataCursorPositionChange:B,isDataCursorEnabled:k,dataCursorPosition:M,dataCursorStyle:z,hoveredItemInfo:Te,focusedItemInfo:je,getDataItem:V,getDataItemPos:Be,datatip:O,valueFormats:K,isHoriz:h,xScale:pe,yScale:Ce}),Oe=g.mergeProps(Re,ke,ze,He),We=l.useId(),{viewportMin:$e,viewportMax:_e}=ge,{startIndex:qe,endIndex:Je}=he,Ke=t.jsx(s.Gridlines,{plotArea:P,yMinorTicks:be,xScale:pe,yScale:Ce,isLog:"log"===w?.scale,xViewportMin:$e,xViewportMax:_e,yTicks:Ae,yAxisPosition:Z});return t.jsxs("div",{tabIndex:0,ref:x,"aria-activedescendant":Ve,"aria-label":te["aria-label"],"aria-labelledby":te["aria-labelledby"],"aria-describedby":te["aria-describedby"],style:{width:e,height:r},role:"application",className:n.styles.outline,...ie,...Oe,children:[t.jsxs("svg",{width:"100%",height:"100%",children:[t.jsx("clipPath",{id:`${We}`,children:t.jsx("rect",{...De})}),t.jsx(s.PlotArea,{color:P?.color,yScale:Ce,isLog:"log"===w?.scale,availSpace:De,xAxisPosition:v}),!ee&&Ke,t.jsx(d.Axis,{...ve,axisPosition:Z}),t.jsx(d.Axis,{...ue,axisPosition:v,isTextInteractive:e=>{if(null!=D?.timeAxisType)return!1;const t=E[e].drilling;return"on"===t||"off"!=t&&("on"===T||"groupsOnly"===T)},activeId:Ve,focusedGroupIndex:Me.isFocusVisible?Me.groupIndex:void 0}),t.jsxs("g",{"clip-path":`url(#${We})`,children:[Y({xStartIndex:qe,xEndIndex:Je,xScale:pe,yScale:Ce,gapRatio:we,activeId:Ve,focusedItemInfo:je,hoveredItemInfo:Te,groupWidth:me}),ee&&Ke,Ue]}),"live"===W&&t.jsx(f.ScrollBar,{availSpace:xe,viewport:ge,axisExtent:Ie,isHoriz:"bottom"===v})]}),ae,ne,Le]})}})}}));
//# sourceMappingURL=Chart-aba7440b.js.map
