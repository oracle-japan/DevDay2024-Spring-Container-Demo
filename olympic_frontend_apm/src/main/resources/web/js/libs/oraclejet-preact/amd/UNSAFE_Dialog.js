define(['exports', 'preact/jsx-runtime', 'preact/compat', './WindowOverlay-6c86c13b', './useTestId-b28a9bba', './useAnimation-ca55acf6', 'preact/hooks', './UNSAFE_Dialog/themes/redwood/DialogTheme', './FocusTrap-d224b10e', './Layer-f4b2cc70', './TopLayerHost-ed31c70d', './Modal-a2b111dd', './classNames-62eaa01c', './ImageVars.css-1e9a718d', './useComponentTheme-78f86a2f', './useId-37951d4d', './mergeInterpolations-73b24f1a', './_curry3-bdba4a6e', './_curry1-cb27040e', './_curry2-5a2b49e1', './_isObject-2ffb2ca1', './vanilla-extract-dynamic.esm-39e415b2', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'css!./WindowOverlayStyles.styles.css', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './useUser-8e4e5333', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-5dce05de', './UNSAFE_Dialog/themes/DialogStyles.css', 'css!./DialogStyles.styles.css', './UNSAFE_Dialog/themes/redwood/DialogBaseTheme.css', 'css!./ImageVars.styles.css', 'module', './UNSAFE_Dialog/themes/redwood/DialogVariants.css', './tabbableUtils-a4d6bed2', './head-0aa33441', './_arity-bec60410', './_isArray-102bbdc1', './_isString-f68a2827', './FocusTracker-c08af05f', 'preact', './PRIVATE_FocusTracker/themes/FocusTrackerStyles.css', 'css!./FocusTrackerStyles.styles.css', './useThemeInterpolations-b8a02c6d', './useColorScheme-5ae81aad', './useScale-00e3ccb5', './theme-9fc8c760', './Theme-2c9e73ca', './Common/themes/redwood/theme', './Common/themes/themeContract.css', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css', './logger-b63acb49'], (function(e,s,a,o,t,l,r,d,n,c,i,m,y,h,u,b,g,f,p,S,w,T,v,F,O,_,N,D,A,x,E,j,I,W,U,C,B,R,M,k,L,V,K,X,Y,H,P,q,z,G,J,Q,Z,$,ee,se){"use strict";const ae=({header:e,id:a})=>{const{styles:o}=u.useComponentTheme(d.DialogRedwoodTheme),t="string"==typeof e?s.jsx("h1",{id:a,className:o.dialogTitleStyle,children:e}):e;return s.jsx("div",{className:o.dialogHeaderStyle,children:t})},oe=a.forwardRef((({children:e,header:a,footer:o,labelId:l,role:r,ariaLabelledBy:n,ariaDescribedBy:c,onKeyDown:i,testId:m},b)=>{const{classes:g,styles:f}=u.useComponentTheme(d.DialogRedwoodTheme),p=t.useTestId(m);return s.jsx("div",{ref:b,className:y.classNames([g,h.globalImages]),style:{opacity:0},onKeyDown:i,role:r,"aria-labelledby":n,"aria-describedby":c,...p,children:s.jsxs("div",{className:f.dialogContainerStyle,children:[s.jsx(ae,{id:l,header:a}),s.jsx("div",{className:f.dialogContentStyle,children:s.jsx("div",{className:f.dialogBodyStyle,children:e})}),s.jsx("div",{className:f.dialogFooterStyle,children:o})]})})})),te={opening:{from:{scaleX:0,scaleY:0,transformOrigin:"center",opacity:0},to:{scaleX:1,scaleY:1,opacity:1},options:{duration:200}},closing:{from:{scaleX:1,scaleY:1,transformOrigin:"center",opacity:1},to:{scaleX:0,scaleY:0,opacity:0},options:{duration:200}}};e.Dialog=({autoFocusRef:e,children:a,isOpen:t,header:d="",footer:i,modality:y="modal",placement:h="center",offset:u=0,onClose:g,onTransitionEnd:f,role:p="dialog","aria-labelledby":S,"aria-describedby":w,testId:T})=>{const[v,F]=r.useState(t?"opening":"unmounted"),O=b.useId(),_=S||O;r.useEffect((()=>{("unmounted"!==v||t)&&F(t?"opening":"closing")}),[t,v]);const{nodeRef:N}=l.useAnimation(v,{animationStates:te,isAnimatedOnMount:!0,onAnimationEnd:({animationState:e})=>{"closing"===e?(F("unmounted"),f?.(!1)):f?.(!0)}}),D=e=>{if("Escape"===e.code)g?.({reason:"escapeKey"})},A=()=>s.jsx(o.WindowOverlay,{placement:h,offset:u,children:s.jsx(n.FocusTrap,{autoFocusRef:e,children:s.jsx(oe,{ref:N,labelId:_,header:d,footer:i,role:p,ariaLabelledBy:_,ariaDescribedBy:w,onKeyDown:D,testId:T,children:a})})});return"modal"===y?s.jsx(m.Modal,{isOpen:"unmounted"!==v,children:A()}):"unmounted"!==v?s.jsx(c.Layer,{children:A()}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Dialog.js.map
